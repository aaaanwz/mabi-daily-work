<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Mabi daily work</title>
</head>
<script language="javascript" type="text/javascript">
    window.onload = function () {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', "./data.csv", true);
        xhr.onload = () => {
            const csv = xhr.responseText;
            showCsvAsTable(csv);
        };
        xhr.send();
    };
    function showCsvAsTable(csv) {
        const rows = csv.split('\n');
        const table = document.createElement('table')
        const header = rows[0].split(',');
        const tr = document.createElement('tr');
        tr.appendChild(document.createElement('th'));
        for (var i = 0; i < header.length; i++) {
            var th = document.createElement('th');
            th.textContent = header[i];
            tr.appendChild(th);
        }
        table.appendChild(tr);
        for (var i = 1; i < rows.length; i++) {
            const tr = document.createElement('tr');
            var td = document.createElement('td');
            var checkbox = document.createElement('input');
            checkbox.type = "checkbox"
            td.appendChild(checkbox);
            tr.appendChild(td);
            const cells = rows[i].split(',');
            for (var j = 0; j < cells.length; j++) {
                var td = document.createElement('td');
                td.textContent = cells[j];
                tr.appendChild(td);
            }
            table.appendChild(tr);
        }
        document.body.appendChild(table);
    }
</script>

<body>
</body>

</html>
